const e=(e,t,n)=>{let o;"js"===t?(o=document.createElement("script"),o.setAttribute("type","text/JavaScript"),o.setAttribute("src",e)):"css"===t?(o=document.createElement("link"),o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",e)):"style"===t&&(o=document.createElement("style"),o.innerhtml=e),void 0!==o&&(document.getElementsByTagName("head")[0].appendChild(o),o.onload=function(){"function"==typeof n&&n()})},t=(e,t)=>{let n=new RegExp("(^|&?)"+e+"=([^&]*)(&|$)","i"),o=t?t.substr(1).match(n):window.location.href.substr(1).match(n);if(null!=o)return decodeURI(o[2])},n=(e,t=!1)=>{const n=Object.prototype.toString.call(e);return t?n:n.replace(/^[\[A-Za-z]+\s{1}/,"").replace("]","")},o=(e,t,o=!0)=>{t=t.toLowerCase();const r=n(e).toLowerCase();return o?r===t:r==t},r=(e,t)=>n(e)===n(t),a=(e,t=null)=>{let o={id:"id",parentId:"parentId",children:"children",quit:["parentId",0]};if(t&&(o={...o,...t}),"Array"!==n(e))return;const{id:r,parentId:a,children:l,quit:s}=o,c=JSON.parse(JSON.stringify(e));return c.filter((e=>{const t=c.filter((t=>e[r]===t[a]));return t.length&&(e[l]=t),e[s[0]]===s[1]}))};console.log(a([{no:1,parentNo:null,name:"菜单1",rank:1},{no:2,parentNo:null,name:"菜单2",rank:1},{no:3,parentNo:null,name:"菜单3",rank:1},{no:4,parentNo:1,name:"菜单1-1",rank:2},{no:5,parentNo:1,name:"菜单1-2",rank:2},{no:6,parentNo:2,name:"菜单2-1",rank:2},{no:7,parentNo:4,name:"菜单1-1-1",rank:3},{no:8,parentNo:7,name:"菜单1-1-1-1",rank:4},{no:9,parentNo:8,name:"菜单1-1-1-1-1",rank:5},{no:10,parentNo:9,name:"菜单1-1-1-1-1-1",rank:6},{no:11,parentNo:10,name:"菜单1-1-1-1-1-1-1",rank:7}],{id:"no",parentId:"parentNo",quit:["parentNo",null]}));const l={setItem:(e,t,n)=>{const o=(new Date).getTime(),r=n?o+1e3*n:0;localStorage.setItem(e,JSON.stringify({value:t,overTime:r}))},getItem:e=>{const t=localStorage.getItem(e);if(!t)return null;const n=JSON.parse(t);return(new Date).getTime()>n.overTime&&0!==n.overTime?(localStorage.removeItem(e),null):n.value},removeItem:e=>{e&&localStorage.removeItem(e)},clear:e=>{e?localStorage.removeItem(e):localStorage.clear()}},s={set:(e,t,n)=>{e&&(n?"Date"===o(n)?document.cookie=`${e}=${t};expires=${n}`:document.cookie=`${e}=${t};max-age=${n}`:document.cookie=`${e}=${t};`)},get:e=>{const t=document.cookie;if(!e)return t;const n=t.split("; ").find((t=>t.startsWith(`${e}=`)));return n?n.split("=")[1]:n},del:e=>{e&&s.set(e,"",-1)}},c=(e,t="",n="")=>{const o="start"===t?/^\s*/g:"end"===t?/\s*$/g:/\s/g;return e.replace(o,n)},i={space:/\s/g,space_s:/^\s/g,space_e:/\s$/g,phone_s:/1\d{10}/,phone:/^1[3|4|5|6|7|8|9][0-9]{9}$/,tel:/^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/,id_card:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,postal:/[1-9]\d{5}(?!\d)/,email:/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,URL:/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/,IP:/((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))/,number:/^[0-9]+$/,en:/^[a-zA-Z]+$/,ch:/^[\u4E00-\u9FA5]+$/,html:/<("[^"]*"|'[^']*'|[^'">])*>/},u=(e,t)=>i[t].test(e),p=e=>{if(!Array.isArray(e))throw new Error("参数不是Array类型");return e.reduce(((e,t)=>e.concat(Array.isArray(t)?p(t):t)),[])},d=(e,t=!0)=>{e=e||new Date;const n=new Date(e).getDay(),o=["一","二","三","四","五","六","日"][0===n?6:n-1];return t?[o,`星期${o}`,`周${o}`,n]:o};console.log(d("2021-08-02"));const m=(e,t,n=!1)=>{"object"!=typeof t&&(t=t?new Date(t):new Date);const o={"M+":t.getMonth()+1,"D+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(Y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(let t in o)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?o[t]:("00"+o[t]).substr((""+o[t]).length)));return n?{data:e,list:e.split(" ")}:e},g=["number","string"],w=(e,t)=>(g.includes(typeof e)&&g.includes(typeof t)||(e=(new Date).getFullYear(),t=(new Date).getMonth()+1),new Date(e,t,"0").getDate());console.log(w(2021,5));const f=e=>{e=e||new Date;const t=[],n=new Date(e).getDay()||7,o=new Date(e).getTime();let r=1,a=1;for(;n>=r;){let e=o-864e5*(n-r);const a=d(e);t.push({date:m("YYYY-MM-DD",e),datemon:m("MM-DD",e),week:a[0],week1:a[1],week2:a[2],week3:a[3]}),r++}for(;a<=7-n;){let e=o+864e5*a;const n=d(e);t.push({date:m("YYYY-MM-DD",e),datemon:m("MM-DD",e),week:n[0],week1:n[1],week2:n[2],week3:n[3]}),a++}return t},h=e=>{const t=[],n=m("YYYY",e),o=m("MM",e),r=w(n,o);let a=1;for(;a<=r;){const e=`${o}-${("00"+a).substr(`${a}`.length)}`,r=`${n}-${e}`,l=d(r);t.push({date:r,datemon:e,week:l[0],week1:l[1],week2:l[2],week3:l[3]}),a++}return t},k=e=>{const t=h(e),n=t[0].week3;let o=1;for(;o<n;){const e=new Date(t[0].date).getTime()-864e5,n=d(e);t.unshift({date:m("YYYY-MM-DD",e),datemon:m("MM-DD",e),week:n[0],week1:n[1],week2:n[2],week3:n[3]}),o++}let r=t.length;for(;r<42;){const e=new Date(t[r-1].date).getTime()+864e5,n=d(e);t.push({date:m("YYYY-MM-DD",e),datemon:m("MM-DD",e),week:n[0],week1:n[1],week2:n[2],week3:n[3]}),r++}return t};function D(e,t,n=!0,o=null){if("function"!=typeof e)throw new TypeError(`${e} must be a function`);let r=null;return function(){const a=this;r&&(clearTimeout(r),r=null),r=setTimeout((()=>{e.apply(a,arguments),o&&o()}),t),n&&(e.apply(a,arguments),n=!1)}}function y(e,t=1e3,n=!0,o=null){if("function"!=typeof e)throw new TypeError(`${e} must be a function`);let r=Date.now();return function(){const a=this;let l=Date.now();l-r>=t&&(e.apply(a,arguments),o&&"function"==typeof o&&o(),r=Date.now()),n&&(e.apply(a,arguments),n=!1)}}const $={loadFile:e,getUrlParam:t,getType:n,compareType:o,compareParamType:r,formatTree:a,removeSpace:c,localStore:l,cookie:s,checkRegexp:i,checkingStr:u,flatArr:p,formatWeek:d,getWeek:f,getMonth:h,getMonthComple:k,getMonthDay:w,debounce:D,throttle:y};export{i as checkRegexp,u as checkingStr,r as compareParamType,o as compareType,s as cookie,D as debounce,$ as default,p as flatArr,a as formatTree,d as formatWeek,h as getMonth,k as getMonthComple,w as getMonthDay,n as getType,t as getUrlParam,f as getWeek,e as loadFile,l as localStore,c as removeSpace,y as throttle};
